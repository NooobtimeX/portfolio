@import url("https://fonts.googleapis.com/css2?family=Bangers&family=Inter:wght@400;600;700&display=swap");
@import "tailwindcss";
@plugin 'tailwindcss-animate';

@custom-variant dark (&:is(.dark *));

@theme inline {
	--color-background: hsl(var(--background));
	--color-foreground: hsl(var(--foreground));

	--color-card: hsl(var(--card));
	--color-card-foreground: hsl(var(--card-foreground));

	--color-popover: hsl(var(--popover));
	--color-popover-foreground: hsl(var(--popover-foreground));

	--color-primary: hsl(var(--primary));
	--color-primary-foreground: hsl(var(--primary-foreground));

	--color-secondary: hsl(var(--secondary));
	--color-secondary-foreground: hsl(var(--secondary-foreground));

	--color-muted: hsl(var(--muted));
	--color-muted-foreground: hsl(var(--muted-foreground));

	--color-accent: hsl(var(--accent));
	--color-accent-foreground: hsl(var(--accent-foreground));

	--color-destructive: hsl(var(--destructive));
	--color-destructive-foreground: hsl(var(--destructive-foreground));

	--color-border: hsl(var(--border));
	--color-input: hsl(var(--input));
	--color-ring: hsl(var(--ring));

	--color-chart-1: hsl(var(--chart-1));
	--color-chart-2: hsl(var(--chart-2));
	--color-chart-3: hsl(var(--chart-3));
	--color-chart-4: hsl(var(--chart-4));
	--color-chart-5: hsl(var(--chart-5));

	--radius-lg: var(--radius);
	--radius-md: calc(var(--radius) - 2px);
	--radius-sm: calc(var(--radius) - 4px);

	--color-sidebar-ring: var(--sidebar-ring);
	--color-sidebar-border: var(--sidebar-border);
	--color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
	--color-sidebar-accent: var(--sidebar-accent);
	--color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
	--color-sidebar-primary: var(--sidebar-primary);
	--color-sidebar-foreground: var(--sidebar-foreground);
	--color-sidebar: var(--sidebar);
}

/* Compatibility for Tailwind CSS v3 defaults */
@layer base {
	*,
	::after,
	::before,
	::backdrop,
	::file-selector-button {
		border-color: var(--color-gray-200, currentColor);
	}
}

@layer utilities {
	* {
		@apply font-semibold;
	}

	/* Hide scrollbar */
	.hide-scrollbar::-webkit-scrollbar {
		display: none;
	}

	.hide-scrollbar {
		-ms-overflow-style: none;
		scrollbar-width: none;
	}

	.line-clamp-2 {
		display: -webkit-box;
		-webkit-line-clamp: 2;
		line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	/* Marvel Comic Halftone Pattern - Dark Mode Only */
	.comic-halftone {
		position: relative;
		z-index: 0;
	}

	.comic-halftone::before {
		content: "";
		position: absolute;
		inset: 0;
		background-image: radial-gradient(
			circle,
			hsl(var(--primary) / 0.15) 1.5px,
			transparent 1.5px
		);
		background-size: 16px 16px;
		opacity: 0.4;
		z-index: -1;
		pointer-events: none;
	}

	/* Spider Web Pattern - Silk Theme */
	.comic-web-pattern {
		background-image: radial-gradient(
				circle at center,
				transparent 0%,
				transparent 10%,
				hsl(var(--primary) / 0.1) 10.5%,
				transparent 11%
			),
			radial-gradient(
				circle at center,
				transparent 0%,
				transparent 20%,
				hsl(var(--primary) / 0.1) 20.5%,
				transparent 21%
			),
			radial-gradient(
				circle at center,
				transparent 0%,
				transparent 30%,
				hsl(var(--primary) / 0.1) 30.5%,
				transparent 31%
			),
			conic-gradient(
				from 0deg,
				transparent 0deg,
				hsl(var(--primary) / 0.1) 2deg,
				transparent 4deg,
				transparent 30deg,
				hsl(var(--primary) / 0.1) 32deg,
				transparent 34deg,
				transparent 60deg,
				hsl(var(--primary) / 0.1) 62deg,
				transparent 64deg,
				transparent 90deg
			);
		background-size: 100% 100%;
		background-position: center;
		pointer-events: none;
	}

	/* Comic Panel - The Card Container */
	.comic-panel {
		@apply bg-card relative transition-all duration-300 ease-out;
		transform: rotate(-1deg);
	}

	.comic-panel:hover {
		transform: rotate(0deg) scale(1.02);
		z-index: 20;
	}

	/* Comic Borders & Shadows */
	.comic-border {
		border: 3px solid #ffffff;
	}

	.comic-shadow {
		box-shadow: 8px 8px 0px 0px rgba(255, 255, 255, 1);
	}

	.comic-shadow-red {
		box-shadow: 8px 8px 0px 0px hsl(355 85% 60%);
	}

	/* Typography Effects */
	.comic-text-stroke {
		-webkit-text-stroke: 1px white;
		color: transparent;
	}

	/* Comic Burst Background */
	.comic-burst {
		background: radial-gradient(
				circle at center,
				hsl(var(--primary) / 0.3) 0%,
				transparent 70%
			),
			repeating-conic-gradient(
				from 0deg,
				transparent 0deg,
				transparent 10deg,
				hsl(var(--primary) / 0.05) 10deg,
				hsl(var(--primary) / 0.05) 20deg
			);
	}

	/* Comic Paper Texture (Noise) */
	.comic-texture {
		background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
		pointer-events: none;
	}

	/* Utility for buttons to make them look like comic actions */
	.comic-button {
		@apply font-bold tracking-wider uppercase transition-transform active:scale-95;
		font-family: "Bangers", cursive;
	}

	/* Smooth scrolling */
	html {
		scroll-behavior: smooth;
	}

	/* Selection Color */
	::selection {
		background-color: hsl(var(--primary));
		color: white;
	}
}

/* Silk Theme - Forced Dark Mode Palette */
:root {
	--background: 0 0% 4%;
	/* #0a0a0a Deep Black */
	--foreground: 0 0% 98%;
	/* #fafafa Off White */

	--card: 0 0% 8%;
	/* #141414 Dark Gray for panels */
	--card-foreground: 0 0% 98%;

	--popover: 0 0% 8%;
	--popover-foreground: 0 0% 98%;

	--primary: 355 85% 60%;
	/* Silk Red */
	--primary-foreground: 0 0% 100%;

	--secondary: 0 0% 15%;
	/* Darker gray for definition */
	--secondary-foreground: 0 0% 98%;

	--muted: 0 0% 12%;
	--muted-foreground: 0 0% 60%;

	--accent: 355 85% 60%;
	--accent-foreground: 0 0% 100%;

	--destructive: 0 62.8% 30.6%;
	--destructive-foreground: 0 0% 98%;

	--border: 0 0% 100%;
	/* White borders for high contrast */
	--input: 0 0% 20%;
	--ring: 355 85% 60%;

	--radius: 0rem;
	/* Hard edges for comic feel */

	--chart-1: 355 85% 60%;
	--chart-2: 0 0% 30%;
	--chart-3: 0 0% 50%;
	--chart-4: 355 70% 75%;
	--chart-5: 0 0% 70%;

	/* Sidebar variables mapped to standard colors */
	--sidebar: hsl(0 0% 6%);
	--sidebar-foreground: hsl(0 0% 96%);
	--sidebar-primary: hsl(355 85% 60%);
	--sidebar-primary-foreground: hsl(0 0% 100%);
	--sidebar-accent: hsl(0 0% 12%);
	--sidebar-accent-foreground: hsl(0 0% 96%);
	--sidebar-border: hsl(0 0% 18%);
	--sidebar-ring: hsl(355 85% 60%);
}

@layer base {
	* {
		@apply border-border outline-ring/50;
	}

	body {
		@apply bg-background text-foreground;
		font-feature-settings:
			"rlig" 1,
			"calt" 1;
		overflow-x: hidden;
	}

	/* Comic Headings */
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		font-family: "Bangers", system-ui, cursive;
		letter-spacing: 0.05em;
		@apply font-normal uppercase;
		/* Bangers is naturally bold */
		text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.5);
	}

	h1 {
		@apply text-5xl md:text-7xl;
	}

	h2 {
		@apply text-4xl md:text-5xl;
	}

	h3 {
		@apply text-3xl md:text-4xl;
	}

	/* Body Text */
	p,
	span,
	div,
	li,
	a {
		font-family: "Inter", sans-serif;
	}

	/* Button Base overrides */
	button {
		@apply rounded-none;
		/* No rounded corners */
	}
}
